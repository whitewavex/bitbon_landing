$(document).ready(function(){$(".dialog").click(function(e){e.preventDefault(),$(".overlay").fadeIn(300,function(){$("#modal-form").css({display:"block"}).animate({opacity:1},300)})}),$(".modal-form__close").click(function(){$("#modal-form").animate({opacity:0},300,function(){$("#modal-form").css({display:"none"}),$(".overlay").fadeOut(300)})}),$(".feedback").click(function(e){e.preventDefault(),$(".overlay").fadeIn(300,function(){$("#feedback").css({display:"block"}).animate({opacity:1},300)})}),$(".modal-form__close").click(function(){$("#feedback").animate({opacity:0},300,function(){$("#feedback").css({display:"none"}),$(".overlay").fadeOut(300)})}),void 0==window.jQuery&&document.write("<script src='//solomon007.e-autopay.com/js/jq.js' type='text/javascript'><\/script>"),window.onload=function(){"solomon007.e-autopay.com"!==window.location.hostname&&(document.getElementById("order_page_referer").value=document.referrer),jQuery(function(){jQuery(".ea_privatehouse").change(function(){jQuery(this).attr("checked")?(jQuery("#ea_korpus_kvartira").hide(),jQuery("#special_address").val("Ул. "+jQuery(".ea_street").val()+", Д. "+jQuery(".ea_dom").val())):(jQuery("#ea_korpus_kvartira").show(),jQuery("#special_address").val("Ул. "+jQuery(".ea_street").val()+", Д. "+jQuery(".ea_dom").val()+", Корп. "+jQuery(".ea_korpus").val()+", Кв. "+jQuery(".ea_kvartira").val()))}),jQuery(".ea_street,.ea_dom,.ea_korpus,.ea_kvartira").change(function(){jQuery(".ea_privatehouse").attr("checked")?jQuery("#special_address").val("Ул. "+jQuery(".ea_street").val()+", Д. "+jQuery(".ea_dom").val()):""!=jQuery(".ea_korpus").val()?jQuery("#special_address").val("Ул. "+jQuery(".ea_street").val()+", Д. "+jQuery(".ea_dom").val()+", Корп. "+jQuery(".ea_korpus").val()+", Кв. "+jQuery(".ea_kvartira").val()):jQuery("#special_address").val("Ул. "+jQuery(".ea_street").val()+", Д. "+jQuery(".ea_dom").val()+", Кв. "+jQuery(".ea_kvartira").val())})})}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZhZGVJbiIsImNzcyIsImRpc3BsYXkiLCJhbmltYXRlIiwib3BhY2l0eSIsImZhZGVPdXQiLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJqUXVlcnkiLCJ3cml0ZSIsIm9ubG9hZCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwicmVmZXJyZXIiLCJjaGFuZ2UiLCJ0aGlzIiwiYXR0ciIsImhpZGUiLCJ2YWwiLCJzaG93Il0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQUlkRixFQUFFLFdBQVdHLE1BQU0sU0FBU0MsR0FDeEJBLEVBQUVDLGlCQUNGTCxFQUFFLFlBQVlNLE9BQU8sSUFBSyxXQUN0Qk4sRUFBRSxlQUFlTyxLQUNiQyxRQUFXLFVBQ1pDLFNBQ0NDLFFBQVcsR0FDWixTQU9YVixFQUFFLHNCQUFzQkcsTUFBTSxXQUMxQkgsRUFBRSxlQUFlUyxTQUNiQyxRQUFXLEdBQ2IsSUFBSyxXQUNIVixFQUFFLGVBQWVPLEtBQUtDLFFBQVUsU0FDaENSLEVBQUUsWUFBWVcsUUFBUSxTQU05QlgsRUFBRSxhQUFhRyxNQUFNLFNBQVNDLEdBQzFCQSxFQUFFQyxpQkFDRkwsRUFBRSxZQUFZTSxPQUFPLElBQUssV0FDdEJOLEVBQUUsYUFBYU8sS0FDWEMsUUFBVyxVQUNaQyxTQUNDQyxRQUFXLEdBQ1osU0FNWFYsRUFBRSxzQkFBc0JHLE1BQU0sV0FDMUJILEVBQUUsYUFBYVMsU0FDWEMsUUFBVyxHQUNiLElBQUssV0FDSFYsRUFBRSxhQUFhTyxLQUFLQyxRQUFVLFNBQzlCUixFQUFFLFlBQVlXLFFBQVEsY0FNRkMsR0FBakJDLE9BQU9DLFFBQ0hiLFNBQVNjLE1BQU0sdUZBc1dsQ0YsT0FBT0csT0FBUyxXQUVXLDZCQURGSCxPQUFPSSxTQUFTQyxXQUVqQ2pCLFNBQVNrQixlQUFlLHNCQUFzQkMsTUFBUW5CLFNBQVNvQixVQUduRVAsT0FBTyxXQUNIQSxPQUFPLG9CQUFvQlEsT0FBTyxXQUMzQlIsT0FBT1MsTUFBTUMsS0FBSyxZQUNqQlYsT0FBTyx1QkFBdUJXLE9BQzlCWCxPQUFPLG9CQUFvQlksSUFBSSxPQUFPWixPQUFPLGNBQWNZLE1BQU0sUUFBUVosT0FBTyxXQUFXWSxTQUUzRlosT0FBTyx1QkFBdUJhLE9BQzlCYixPQUFPLG9CQUFvQlksSUFBSSxPQUFPWixPQUFPLGNBQWNZLE1BQU0sUUFBUVosT0FBTyxXQUFXWSxNQUFNLFdBQVdaLE9BQU8sY0FBY1ksTUFBTSxTQUFTWixPQUFPLGdCQUFnQlksVUFJL0taLE9BQU8sOENBQThDUSxPQUFPLFdBQ3JEUixPQUFPLG9CQUFvQlUsS0FBSyxXQUMvQlYsT0FBTyxvQkFBb0JZLElBQUksT0FBT1osT0FBTyxjQUFjWSxNQUFNLFFBQVFaLE9BQU8sV0FBV1ksT0FFNUQsSUFBNUJaLE9BQU8sY0FBY1ksTUFDcEJaLE9BQU8sb0JBQW9CWSxJQUFJLE9BQU9aLE9BQU8sY0FBY1ksTUFBTSxRQUFRWixPQUFPLFdBQVdZLE1BQU0sV0FBV1osT0FBTyxjQUFjWSxNQUFNLFNBQVNaLE9BQU8sZ0JBQWdCWSxPQUV2S1osT0FBTyxvQkFBb0JZLElBQUksT0FBT1osT0FBTyxjQUFjWSxNQUFNLFFBQVFaLE9BQU8sV0FBV1ksTUFBTSxTQUFTWixPQUFPLGdCQUFnQlkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIFxyXG4vLyAgICBPUEVOIE1PREFMXHJcbiAgICBcclxuICAgICQoJy5kaWFsb2cnKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQoJy5vdmVybGF5JykuZmFkZUluKDMwMCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQoJyNtb2RhbC1mb3JtJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2Jsb2NrJyBcclxuICAgICAgICAgICAgfSkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDEgXHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbi8vICAgIENMT1NFIE1PREFMXHJcbiAgICBcclxuICAgICQoJy5tb2RhbC1mb3JtX19jbG9zZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJyNtb2RhbC1mb3JtJykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICdvcGFjaXR5JzogMFxyXG4gICAgICAgIH0sMzAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCgnI21vZGFsLWZvcm0nKS5jc3MoeydkaXNwbGF5Jzonbm9uZSd9KTtcclxuICAgICAgICAgICAgJCgnLm92ZXJsYXknKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4vLyAgICBPUEVOIEZFRURCQUNLXHJcbiAgICBcclxuICAgICQoJy5mZWVkYmFjaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJCgnLm92ZXJsYXknKS5mYWRlSW4oMzAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCgnI2ZlZWRiYWNrJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2Jsb2NrJyBcclxuICAgICAgICAgICAgfSkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDEgXHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4vLyAgICBDTE9TRSBGRUVEQkFDS1xyXG4gICAgXHJcbiAgICAkKCcubW9kYWwtZm9ybV9fY2xvc2UnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCcjZmVlZGJhY2snKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgJ29wYWNpdHknOiAwXHJcbiAgICAgICAgfSwzMDAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcjZmVlZGJhY2snKS5jc3MoeydkaXNwbGF5Jzonbm9uZSd9KTtcclxuICAgICAgICAgICAgJCgnLm92ZXJsYXknKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4vLyAgICBFLUFVVE9QQVlcclxuICAgIFxyXG4gICAgICAgICAgICBpZih3aW5kb3cualF1ZXJ5ID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgZG9jdW1lbnQud3JpdGUoXCI8c2NcIitcInJpcHQgc3JjPScvL3NvbG9tb24wMDcuZS1hdXRvcGF5LmNvbS9qcy9qcS5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjclwiK1wiaXB0PlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEVBY2hlY2tGb3JtKGZvcm0pe1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJzZXQgPSBkb2N1bWVudC5jaGFyc2V0IHx8IGRvY3VtZW50LmNoYXJhY3RlclNldDtcclxuICAgICAgICAgICAgICAgIGZvcm0uZm9ybV9jaGFyc2V0LnZhbHVlID0gY2hhcnNldDtcclxuXHRcdFx0XHRcclxuXHRcdHZhciBpdGVtc19pbnB1dCA9IGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXNfc2VsZWN0ID0gZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXNfdGV4dGFyZWEgPSBmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZXh0YXJlYScpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvKtC/0YDQvtCy0LXRgNC60LAg0LTQvtC/LiDQv9C+0LvQtdC5IChyYWRpbywgY2hlY2tib3gpKi9cclxuICAgICAgICAgICAgICAgIHZhciBpc19lcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzX2NoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBhbGxfcmFkaW8gPSBqUXVlcnkoJ2lucHV0W25hbWVePWFkZGl0aW9uYWxfZmllbGRdW3R5cGU9cmFkaW9dW3JlcXVpcmVkPXJlcXVpcmVkXScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRtcF9uYW1lID0gJyc7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGFsbF9yYWRpby5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wX3JhZGlvID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRfbmFtZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX3JhZGlvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfbmFtZSA9IGpRdWVyeShhbGxfcmFkaW9baV0pLmF0dHIoJ25hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcF9uYW1lICE9PSBjdXJyZW50X25hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcF9yYWRpby5wdXNoKGN1cnJlbnRfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfbmFtZSA9IGN1cnJlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG1wX3JhZGlvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghalF1ZXJ5KCdpbnB1dFtuYW1lPVwiJyArIHRtcF9yYWRpb1tpXSArICdcIl1bdHlwZT1yYWRpb11bcmVxdWlyZWQ9cmVxdWlyZWRdJykuaXMoJzpjaGVja2VkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZihpc19lcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0JLRiyDRg9C60LDQt9Cw0LvQuCDQvdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiEhIVxcbtCS0YHQtSDQv9C+0LvRjywg0L7RgtC80LXRh9C10L3QvdGL0LUg0LfQvdCw0LrQvtC8ICcqJywg0L7QsdGP0LfQsNGC0LXQu9GM0L3RiyDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8hXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgaXNfZXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBpc19jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWxsX2NoZWNrYm94ID0galF1ZXJ5KCdpbnB1dFtuYW1lXj1hZGRpdGlvbmFsX2ZpZWxkXVt0eXBlPWNoZWNrYm94XVtyZXF1aXJlZD1yZXF1aXJlZF0nKTtcclxuICAgICAgICAgICAgICAgIHZhciB0bXBfbmFtZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihhbGxfY2hlY2tib3gubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcF9jaGVja2JveCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X25hbWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9jaGVja2JveC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X25hbWUgPSBqUXVlcnkoYWxsX2NoZWNrYm94W2ldKS5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXBfbmFtZSAhPT0gY3VycmVudF9uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfY2hlY2tib3gucHVzaChjdXJyZW50X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wX25hbWUgPSBjdXJyZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRtcF9jaGVja2JveC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWpRdWVyeSgnaW5wdXRbbmFtZT1cIicgKyB0bXBfY2hlY2tib3hbaV0gKyAnXCJdW3R5cGU9Y2hlY2tib3hdW3JlcXVpcmVkPXJlcXVpcmVkXScpLmlzKCc6Y2hlY2tlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19lcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNfZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0Ysg0YPQutCw0LfQsNC70Lgg0L3QtSDQstGB0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4hISFcXG7QktGB0LUg0L/QvtC70Y8sINC+0YLQvNC10YfQtdC90L3Ri9C1INC30L3QsNC60L7QvCAnKicsINC+0LHRj9C30LDRgtC10LvRjNC90Ysg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLyrQv9GA0L7QstC10YDQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIHRleHRhcmVhKi9cclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBpdGVtc190ZXh0YXJlYS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9IGl0ZW1zX3RleHRhcmVhW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zX3RleHRhcmVhW2ldLmdldEF0dHJpYnV0ZSgncmVxdWlyZWQnKSA9PSAncmVxdWlyZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lX2ZpZWxkID0gaXRlbXNfdGV4dGFyZWFbaV0uZ2V0QXR0cmlidXRlKCduYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChuYW1lX2ZpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FkZHJlc3MnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGZvcm0uZWFfY3VzdG9tX2FkZHJlc3MgPT09ICd1bmRlZmluZWQnIHx8IGZvcm0uZWFfY3VzdG9tX2FkZHJlc3MuY2hlY2tlZCkgJiYgaXRlbXNfdGV4dGFyZWFbaV0udmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qYWxlcnQobmFtZV9maWVsZCk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLQktGLINGD0LrQsNC30LDQu9C4INC90LUg0LLRgdGOINC40L3RhNC+0YDQvNCw0YbQuNGOISEhXFxu0JLRgdC1INC/0L7Qu9GPLCDQvtGC0LzQtdGH0LXQvdC90YvQtSDQt9C90LDQutC+0LwgJyonLCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGLINC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvKtC/0YDQvtCy0LXRgNC60LAg0LfQsNC/0L7Qu9C90LXQvdC40Y8g0YHQtdC70LXQutGC0L7QsiovXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaXRlbXNfc2VsZWN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gaXRlbXNfc2VsZWN0W2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zX3NlbGVjdFtpXS5nZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJykgPT0gJ3JlcXVpcmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lX2ZpZWxkID0gaXRlbXNfc2VsZWN0W2ldLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2gobmFtZV9maWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWdpb25faWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFmb3JtLmVhX2N1c3RvbV9yZWdpb24uY2hlY2tlZCAmJiBpdGVtc19zZWxlY3RbaV0udmFsdWUgPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmFsZXJ0KG5hbWVfZmllbGQpOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0JLRiyDRg9C60LDQt9Cw0LvQuCDQvdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiEhIVxcbtCS0YHQtSDQv9C+0LvRjywg0L7RgtC80LXRh9C10L3QvdGL0LUg0LfQvdCw0LrQvtC8IFxcJypcXCcsINC+0LHRj9C30LDRgtC10LvRjNC90Ysg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NpdHlfaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFmb3JtLmVhX2N1c3RvbV9jaXR5LmNoZWNrZWQgJiYgaXRlbXNfc2VsZWN0W2ldLnZhbHVlID09ICcnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyphbGVydChuYW1lX2ZpZWxkKTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0Ysg0YPQutCw0LfQsNC70Lgg0L3QtSDQstGB0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4hISFcXG7QktGB0LUg0L/QvtC70Y8sINC+0YLQvNC10YfQtdC90L3Ri9C1INC30L3QsNC60L7QvCBcXCcqXFwnLCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGLINC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb3VudHJ5X2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsaWRhdGUoc3RyKSB8fCBzdHIgPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmFsZXJ0KG5hbWVfZmllbGQpOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0JLRiyDRg9C60LDQt9Cw0LvQuCDQvdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiEhIVxcbtCS0YHQtSDQv9C+0LvRjywg0L7RgtC80LXRh9C10L3QvdGL0LUg0LfQvdCw0LrQvtC8IFxcJypcXCcsINC+0LHRj9C30LDRgtC10LvRjNC90Ysg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLyrQv9GA0L7QstC10YDQutCwINC30LDQv9C+0LvQvdC10L3QuNGPINC+0LHRj9C30LDRgtC10LvRjNC90YvRhSDQv9C+0LvQtdC5Ki9cclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBpdGVtc19pbnB1dC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9IGl0ZW1zX2lucHV0W2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zX2lucHV0W2ldLmdldEF0dHJpYnV0ZSgncmVxdWlyZWQnKSA9PSAncmVxdWlyZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVfZmllbGQgPSBpdGVtc19pbnB1dFtpXS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKG5hbWVfZmllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY291bnRyeSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZm9ybS5lYV9jdXN0b21fY2l0eS5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsaWRhdGUoc3RyKSB8fCBzdHIgPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmFsZXJ0KG5hbWVfZmllbGQpOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0Ysg0YPQutCw0LfQsNC70Lgg0L3QtSDQstGB0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4hISFcXG7QktGB0LUg0L/QvtC70Y8sINC+0YLQvNC10YfQtdC90L3Ri9C1INC30L3QsNC60L7QvCBcXCcqXFwnLCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGLINC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhcmVhJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgZm9ybS5lYV9jdXN0b21fcmVnaW9uID09PSAndW5kZWZpbmVkJyB8fCBmb3JtLmVhX2N1c3RvbV9yZWdpb24uY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbGlkYXRlKHN0cikgfHwgc3RyID09ICcnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyphbGVydChuYW1lX2ZpZWxkKTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLQktGLINGD0LrQsNC30LDQu9C4INC90LUg0LLRgdGOINC40L3RhNC+0YDQvNCw0YbQuNGOISEhXFxu0JLRgdC1INC/0L7Qu9GPLCDQvtGC0LzQtdGH0LXQvdC90YvQtSDQt9C90LDQutC+0LwgXFwnKlxcJywg0L7QsdGP0LfQsNGC0LXQu9GM0L3RiyDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8hXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY291bnRyeSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZm9ybS5lYWN1c3RvbV9jaXR5LmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2YWxpZGF0ZShzdHIpIHx8IHN0ciA9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qYWxlcnQobmFtZV9maWVsZCk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0JLRiyDRg9C60LDQt9Cw0LvQuCDQvdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiEhIVxcbtCS0YHQtSDQv9C+0LvRjywg0L7RgtC80LXRh9C10L3QvdGL0LUg0LfQvdCw0LrQvtC8IFxcJypcXCcsINC+0LHRj9C30LDRgtC10LvRjNC90Ysg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcXVpcmVkX3Bob25lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKtC/0YDQvtCy0LXRgNGP0LXQvCDQt9Cw0L/QvtC70L3QtdC90LjQtSDRhdC+0YLRjyDQsdGLINC+0LTQvdC+0LPQviDQvdC+0LzQtdGA0LAg0YLQtdC70LXRhNC+0L3QsCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBob25lMT10cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaG9uZTI9dHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGZvcm0uY29kX29wZXJfbW9iLnZhbHVlLm1hdGNoKC9eWzAtOV0rJC9pKSA9PT0gbnVsbCB8fCBmb3JtLnBob25lX21vYi52YWx1ZS5tYXRjaCgvXlswLTldKyQvaSkgPT09IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lMT1mYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICh0eXBlb2YgZm9ybS5jb2Rfb3Blcl9kb20gIT09ICd1bmRlZmluZWQnICYmIGZvcm0uY29kX29wZXJfZG9tLnZhbHVlLm1hdGNoKC9eWzAtOV0rJC9pKSA9PT0gbnVsbCkgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZm9ybS5waG9uZV9kb20gIT09ICd1bmRlZmluZWQnICYmIGZvcm0ucGhvbmVfZG9tLnZhbHVlLm1hdGNoKC9eWzAtOV0rJC9pKSA9PT0gbnVsbCkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lMj1mYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybS5jb2Rfb3Blcl9tb2IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBmb3JtLmNvZF9vcGVyX2RvbSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXBob25lMSAmJiAhcGhvbmUyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0ICgn0JLQstC10LTQuNGC0LUg0L/QvtC70L3QvtGB0YLRjNGOINC4INC60L7RgNGA0LXQutGC0L3QviAo0LTQvtC/0YPRgdC60LDRjtGC0YHRjyDRgtC+0LvRjNC60L4g0YbQuNGE0YDRiykg0YXQvtGC0Y8g0LHRiyDQvtC00LjQvSDQvdC+0LzQtdGAINGC0LXQu9C10YTQvtC90LAhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFwaG9uZTEgfHwgIXBob25lMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCAoJ9CS0LLQtdC00LjRgtC1INC/0L7Qu9C90L7RgdGC0YzRjiDQuCDQutC+0YDRgNC10LrRgtC90L4gKNC00L7Qv9GD0YHQutCw0Y7RgtGB0Y8g0YLQvtC70YzQutC+INGG0LjRhNGA0YspINC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bob25lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzdHIgPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCAoJ9CS0LLQtdC00LjRgtC1INC90L7QvNC10YAg0JLQsNGI0LXQs9C+INC60L7QvdGC0LDQutGC0L3QvtCz0L4g0YLQtdC70LXRhNC+0L3QsCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5waG9uZS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFmb3JtLmVtYWlsLnZhbHVlLm1hdGNoKC9eW1xcd117MX1bXFx3XFwuXFwtX10qQFtcXHddezF9W1xcd1xcLV9cXC5dKlxcLltcXHddezIsMTB9JC9pKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0ICgn0JLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdC+INCS0LDRiCBFLU1haWwg0LDQtNGA0LXRgSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5lbWFpbC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2l0eSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGZvcm0uZWFfY3VzdG9tX2NpdHkgPT09ICd1bmRlZmluZWQnIHx8IGZvcm0uZWFfY3VzdG9tX2NpdHkuY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbGlkYXRlKHN0cikgfHwgc3RyID09ICcnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyphbGVydChuYW1lX2ZpZWxkKTsqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLQktGLINGD0LrQsNC30LDQu9C4INC90LUg0LLRgdGOINC40L3RhNC+0YDQvNCw0YbQuNGOISEhXFxu0JLRgdC1INC/0L7Qu9GPLCDQvtGC0LzQtdGH0LXQvdC90YvQtSDQt9C90LDQutC+0LwgJyonLCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGLINC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHJlZXQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBmb3JtLmVhX2N1c3RvbV9hZGRyZXNzID09PSAndW5kZWZpbmVkJyB8fCAhZm9ybS5lYV9jdXN0b21fYWRkcmVzcy5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsaWRhdGUoc3RyKSB8fCBzdHIgPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmFsZXJ0KG5hbWVfZmllbGQpOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0Ysg0YPQutCw0LfQsNC70Lgg0L3QtSDQstGB0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4hISFcXG7QktGB0LUg0L/QvtC70Y8sINC+0YLQvNC10YfQtdC90L3Ri9C1INC30L3QsNC60L7QvCAnKicsINC+0LHRj9C30LDRgtC10LvRjNC90Ysg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RvbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGZvcm0uZWFfY3VzdG9tX2FkZHJlc3MgPT09ICd1bmRlZmluZWQnIHx8ICFmb3JtLmVhX2N1c3RvbV9hZGRyZXNzLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2YWxpZGF0ZShzdHIpIHx8IHN0ciA9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qYWxlcnQobmFtZV9maWVsZCk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0JLRiyDRg9C60LDQt9Cw0LvQuCDQvdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiEhIVxcbtCS0YHQtSDQv9C+0LvRjywg0L7RgtC80LXRh9C10L3QvdGL0LUg0LfQvdCw0LrQvtC8ICcqJywg0L7QsdGP0LfQsNGC0LXQu9GM0L3RiyDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8hXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAna3ZhcnRpcmEnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybS5lYV9wcml2YXRlaG91c2UgPT09ICd1bmRlZmluZWQnIHx8ICghZm9ybS5lYV9wcml2YXRlaG91c2UuY2hlY2tlZCAmJiAhZm9ybS5lYV9jdXN0b21fYWRkcmVzcy5jaGVja2VkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2YWxpZGF0ZShzdHIpIHx8IHN0ciA9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qYWxlcnQobmFtZV9maWVsZCk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0JLRiyDRg9C60LDQt9Cw0LvQuCDQvdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiEhIVxcbtCS0YHQtSDQv9C+0LvRjywg0L7RgtC80LXRh9C10L3QvdGL0LUg0LfQvdCw0LrQvtC8ICcqJywg0L7QsdGP0LfQsNGC0LXQu9GM0L3RiyDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8hXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2FueV9wcmljZSc6XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgbWluX3ByaWNlID0gZm9ybS5hbnlfcHJpY2UuZ2V0QXR0cmlidXRlKCdtaW4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKHN0ciA9PSAnJyB8fCBwYXJzZUZsb2F0KHN0cikgPCBwYXJzZUZsb2F0KG1pbl9wcmljZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCAoJ9Ch0YPQvNC80LAg0L3QtSDQvNC+0LbQtdGCINCx0YvRgtGMINC80LXQvdGM0YjQtSAnICsgbWluX3ByaWNlICsgJyEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5hbnlfcHJpY2UuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2NvdW50JzpcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBjb3VudHByb2QgPSBmb3JtLmNvdW50LmdldEF0dHJpYnV0ZSgnbWluJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZihzdHIgPT0gJycgfHwgcGFyc2VJbnQoc3RyKSA8IHBhcnNlSW50KGNvdW50cHJvZCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCAoJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INGC0L7QstCw0YDQsCDQvdC1INC80L7QttC10YIg0LHRi9GC0Ywg0LzQtdC90YzRiNC1ICcgKyBjb3VudHByb2QgKyAnIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmNvdW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsaWRhdGUoc3RyKSB8fCBzdHIgPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmFsZXJ0KG5hbWVfZmllbGQpOyovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0JLRiyDRg9C60LDQt9Cw0LvQuCDQvdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiEhIVxcbtCS0YHQtSDQv9C+0LvRjywg0L7RgtC80LXRh9C10L3QvdGL0LUg0LfQvdCw0LrQvtC8IFxcJypcXCcsINC+0LHRj9C30LDRgtC10LvRjNC90Ysg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vYWxlcnQoJ3N1Ym1pdCEnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZShzdHIpIHtcclxuICAgICAgICAgICAgICAgIGlmKGpRdWVyeS50cmltKHN0cikgIT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvKtCS0YvRgtGP0LPQuNCy0LDQtdGCINC/0L4gYWpheCDQtNCw0L3QvdGL0LUg0YHQv9C40YHQutC+0LIg0YDQtdCz0LjQvtC90L7Qsi/Qs9C+0YDQvtC00L7QsiovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldERhdGEoYWN0aW9uLCBvYmpTZWxlY3Qpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1fY2hhcnNldCA9IGRvY3VtZW50LmNoYXJzZXQgfHwgZG9jdW1lbnQuY2hhcmFjdGVyU2V0O1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9ICcvL3NvbG9tb24wMDcuZS1hdXRvcGF5LmNvbS9hZG1pbmthL2Zvcm1fZ2VuZXJhdG9yL2dldF9mb3JtX2xpc3QucGhwPyc7XHJcbiAgICAgICAgICAgICAgICBpZihhY3Rpb24gPT0gJ3JlZ2lvbicpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHJ5ID0gb2JqU2VsZWN0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNvdW50cnkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAnY291bnRyeT0nK2NvdW50cnk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihhY3Rpb24gPT0gJ2NpdHknKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaW9uID0gb2JqU2VsZWN0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlZ2lvbiA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVybCArICdyZWdpb249JytyZWdpb247XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdXJsID0gdXJsICsgJyZmb3JtX2NoYXJzZXQ9Jytmb3JtX2NoYXJzZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24ganNvbnBDYWxsYmFjayhkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBkYXRhLmNvdW50cnkgIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuY291bnRyeSA9PSAnb2snKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCdzZWxlY3QjcmVnaW9uX2lkJykuaHRtbChkYXRhLmxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRhdGEuY291bnRyeSA9PSAnZXJyb3InKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Ch0L/QuNGB0L7QuiDRgNC10LPQuNC+0L3QvtCyINC4INCz0L7RgNC+0LTQvtCyINCy0YDQtdC80LXQvdC90L4g0L3QtSDQtNC+0YHRgtGD0L/QtdC9ISDQo9C60LDQttC40YLQtSDRgNC10LPQuNC+0L0g0Lgg0LPQvtGA0L7QtCDQstGA0YPRh9C90YPRjiEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCdzZWxlY3QjcmVnaW9uX2lkLHNlbGVjdCNjaXR5X2lkJykuaHRtbCgnPG9wdGlvbiB2YWx1ZT1cIlwiPtCj0LrQsNC20LjRgtC1INGA0LXQs9C40L7QvSDQuCDQs9C+0YDQvtC0INCy0YDRg9GH0L3Rg9GOITwvb3B0aW9uPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZiBkYXRhLnJlZ2lvbiAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5yZWdpb24gPT0gJ29rJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnc2VsZWN0I2NpdHlfaWQnKS5odG1sKGRhdGEubGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoZGF0YS5yZWdpb24gPT0gJ2Vycm9yJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQodC/0LjRgdC+0Log0LPQvtGA0L7QtNC+0LIg0LLRgNC10LzQtdC90L3QviDQvdC1INC00L7RgdGC0YPQv9C10L0hINCj0LrQsNC20LjRgtC1INCz0L7RgNC+0LQg0LLRgNGD0YfQvdGD0Y4hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnc2VsZWN0I2NpdHlfaWQnKS5odG1sKCc8b3B0aW9uIHZhbHVlPVwiXCI+0KPQutCw0LbQuNGC0LUg0YDQtdCz0LjQvtC9INC4INCz0L7RgNC+0LQg0LLRgNGD0YfQvdGD0Y4hPC9vcHRpb24+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlRWxlbWVudChvYmope1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBvYmoubmFtZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdlYV9jdXN0b21fcmVnaW9uJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob2JqLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcjZWFfcHJvZHVjdF9mb3JtXzM1NzY1ICNlYV9ub3JtYWxfcmVnaW9uIHNlbGVjdCcpLnZhbCgnJyk7XHJcblx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhX25vcm1hbF9yZWdpb24nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhX3NwZWNpYWxfcmVnaW9uJykuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnI2VhX3Byb2R1Y3RfZm9ybV8zNTc2NSAjZWFfc3BlY2lhbF9yZWdpb24gaW5wdXQnKS52YWwoJycpO1xyXG5cdFx0XHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYV9ub3JtYWxfcmVnaW9uJykuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhX3NwZWNpYWxfcmVnaW9uJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdlYV9jdXN0b21fY2l0eSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9iai5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnI2VhX3Byb2R1Y3RfZm9ybV8zNTc2NSAjZWFfbm9ybWFsX2NpdHkgc2VsZWN0JykudmFsKCcnKTtcclxuXHRcdFx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWFfbm9ybWFsX2NpdHknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYV9zcGVjaWFsX2NpdHknKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcjZWFfcHJvZHVjdF9mb3JtXzM1NzY1ICNlYV9zcGVjaWFsX2NpdHkgaW5wdXQnKS52YWwoJycpO1xyXG5cdFx0XHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYV9ub3JtYWxfY2l0eScpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcclxuXHRcdFx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWFfc3BlY2lhbF9jaXR5Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdlYV9jdXN0b21fYWRkcmVzcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9iai5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYV9hZGRyZXNzXzEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhX2FkZHJlc3NfMicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWFfYWRkcmVzc18zJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhX3NwZWNpYWxfYWRkcmVzcycpLnN0eWxlLmRpc3BsYXkgPSAndGFibGUtcm93JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWFfYWRkcmVzc18xJykuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1yb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VhX2FkZHJlc3NfMicpLnN0eWxlLmRpc3BsYXkgPSAndGFibGUtcm93JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYV9hZGRyZXNzXzMnKS5zdHlsZS5kaXNwbGF5ID0gJ3RhYmxlLXJvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYV9zcGVjaWFsX2FkZHJlc3MnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBjdXJyZW50X2RvbWFpbiA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcclxuICAgIGlmIChjdXJyZW50X2RvbWFpbiAhPT0gJ3NvbG9tb24wMDcuZS1hdXRvcGF5LmNvbScpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXJfcGFnZV9yZWZlcmVyJykudmFsdWUgPSBkb2N1bWVudC5yZWZlcnJlcjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgalF1ZXJ5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgalF1ZXJ5KCcuZWFfcHJpdmF0ZWhvdXNlJykuY2hhbmdlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKGpRdWVyeSh0aGlzKS5hdHRyKCdjaGVja2VkJykpe1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5KCcjZWFfa29ycHVzX2t2YXJ0aXJhJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5KCcjc3BlY2lhbF9hZGRyZXNzJykudmFsKCfQo9C7LiAnK2pRdWVyeSgnLmVhX3N0cmVldCcpLnZhbCgpKycsINCULiAnK2pRdWVyeSgnLmVhX2RvbScpLnZhbCgpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGpRdWVyeSgnI2VhX2tvcnB1c19rdmFydGlyYScpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIGpRdWVyeSgnI3NwZWNpYWxfYWRkcmVzcycpLnZhbCgn0KPQuy4gJytqUXVlcnkoJy5lYV9zdHJlZXQnKS52YWwoKSsnLCDQlC4gJytqUXVlcnkoJy5lYV9kb20nKS52YWwoKSsnLCDQmtC+0YDQvy4gJytqUXVlcnkoJy5lYV9rb3JwdXMnKS52YWwoKSsnLCDQmtCyLiAnK2pRdWVyeSgnLmVhX2t2YXJ0aXJhJykudmFsKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICBqUXVlcnkoJy5lYV9zdHJlZXQsLmVhX2RvbSwuZWFfa29ycHVzLC5lYV9rdmFydGlyYScpLmNoYW5nZShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZihqUXVlcnkoJy5lYV9wcml2YXRlaG91c2UnKS5hdHRyKCdjaGVja2VkJykpXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoJyNzcGVjaWFsX2FkZHJlc3MnKS52YWwoJ9Cj0LsuICcralF1ZXJ5KCcuZWFfc3RyZWV0JykudmFsKCkrJywg0JQuICcralF1ZXJ5KCcuZWFfZG9tJykudmFsKCkpO1xyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgaWYoalF1ZXJ5KCcuZWFfa29ycHVzJykudmFsKCkhPScnKVxyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnI3NwZWNpYWxfYWRkcmVzcycpLnZhbCgn0KPQuy4gJytqUXVlcnkoJy5lYV9zdHJlZXQnKS52YWwoKSsnLCDQlC4gJytqUXVlcnkoJy5lYV9kb20nKS52YWwoKSsnLCDQmtC+0YDQvy4gJytqUXVlcnkoJy5lYV9rb3JwdXMnKS52YWwoKSsnLCDQmtCyLiAnK2pRdWVyeSgnLmVhX2t2YXJ0aXJhJykudmFsKCkpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnI3NwZWNpYWxfYWRkcmVzcycpLnZhbCgn0KPQuy4gJytqUXVlcnkoJy5lYV9zdHJlZXQnKS52YWwoKSsnLCDQlC4gJytqUXVlcnkoJy5lYV9kb20nKS52YWwoKSsnLCDQmtCyLiAnK2pRdWVyeSgnLmVhX2t2YXJ0aXJhJykudmFsKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG59KTsiXX0=
